# language setting
language: python

# version numbers
python:
  - "2.7"


pre_ci:
    - docker build -t shippable-app:latest .

#pre_ci_boot:
#    image_name: shippable-app
#    image_tag: latest
#    pull: false


#ci:
#post_ci:
#on_success:
#on_failure:

build:
    post_ci:
        #Commit the container only if you want all the artifacts from the CI step
        - docker commit $SHIPPABLE_CONTAINER_NAME emilcara/shippable-app:latest
        - docker push emilcara/shippable-app:latest

integrations:
    hub:
      - integrationName: shippable-app-ecr
      type: ecr
      branches:
        only:
          - master
